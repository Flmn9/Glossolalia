<Window x:Class="Glossolalia.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Glossolalia"
        mc:Ignorable="d" Title="Glossolalia" Height="600" Width="800"
        FontFamily="Gabriola" MinWidth="800" MinHeight="600"
        ResizeMode="CanMinimize" Icon="/images/Glossolalia.ico"
        Cursor="Pen" KeyDown="Window_KeyDown" TextInput="Window_TextInput">

    <Grid x:Name="MainGrid" Cursor="">
        <Viewbox Stretch="Uniform" Focusable="False">
            <Grid Width="800" Height="600" x:Name="BaseGrid">
                <Grid.Background>
                    <ImageBrush ImageSource="/images/BlueBookFHD.png"/>
                </Grid.Background>

                <!-- ИГРОВЫЕ ЭЛЕМЕНТЫ -->
                <Grid x:Name="GameContainer" Visibility="Collapsed">

                    <!-- Верхнее меню/панель прогресса -->
                    <Grid x:Name="TopMenu" Height="50" VerticalAlignment="Top" Background="White">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="50"/>
                            <ColumnDefinition Width="87*"/>
                            <ColumnDefinition Width="87*"/>
                            <ColumnDefinition Width="76*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Кнопка паузы -->
                        <Button x:Name="PauseButton" Grid.Column="0" 
                                Content="⏸️" FontSize="36" Background="Transparent" 
                                BorderThickness="0" Click="PauseButton_Click"/>

                        <!-- Счетчики очков -->
                        <StackPanel Orientation="Horizontal" Grid.Column="1">
                            <TextBlock Text="Очки: " FontSize="36"/>
                            <TextBlock x:Name="ScoreText" Text="0" FontSize="36" FontWeight="Bold"/>
                        </StackPanel>

                        <!-- Название бонуса -->
                        <TextBlock x:Name="BonusText" Grid.Column="2" 
                                   Text="Бонус" FontSize="36" 
                                   HorizontalAlignment="Left" Width="180" Visibility="Collapsed" Padding="5,0,0,0">
                            <TextBlock.Effect>
                                <DropShadowEffect 
                                ShadowDepth="0" 
                                BlurRadius="10" 
                                Color="White"
                                Opacity="1"/>
                            </TextBlock.Effect>
                        </TextBlock>

                        <!-- Множитель очков -->
                        <TextBlock x:Name="MultiplierText" Grid.Column="3" 
                                   Text="x1" FontSize="48" 
                                   HorizontalAlignment="Left" Width="60" TextAlignment="Center" VerticalAlignment="Top" Height="75" Margin="0,-16,0,0"/>

                        <!-- Счетчики времени -->
                        <StackPanel Orientation="Horizontal" Grid.Column="3" HorizontalAlignment="Left" Width="152" Margin="76,0,0,0">
                            <TextBlock Text="Время: " FontSize="36"/>
                            <TextBlock x:Name="TimeText" Text="00:00" FontSize="36" FontWeight="Bold"/>
                        </StackPanel>

                        <!-- ProgressBar -->
                        <ProgressBar x:Name="ProgressBar" 
                         Height="50"
                         Maximum="1"
                         Value="1"
                         Foreground="#456B99" Background="#FFEEEEEE"
                         Grid.ColumnSpan="4" VerticalAlignment="Center" Panel.ZIndex="-4" BorderBrush="{x:Null}" Visibility="Hidden"/>
                    </Grid>

                    <!-- Основная игровая область -->
                    <Canvas x:Name="GameCanvas" Margin="0,50,0,0" Background="Transparent">
                    </Canvas>

                    <TextBlock x:Name="SynonymText" Canvas.Left="0" TextWrapping="Wrap" Text="" Canvas.Top="0" Width="75" Height="100" HorizontalAlignment="Center" VerticalAlignment="Bottom" TextAlignment="Center" FontSize="72" Foreground="#FF456B99"/>
                    
                    <!-- Сообщение Игра окончена -->
                    <StackPanel x:Name="GameOverStackPanel" VerticalAlignment="Center" Visibility="Collapsed">
                        <TextBlock HorizontalAlignment="Center" TextWrapping="Wrap" Text="Игра окончена!" VerticalAlignment="Center" FontSize="48"/>
                        <Button x:Name="GameOverButton" Content="В главное меню" FontSize="36" HorizontalAlignment="Center" VerticalAlignment="Bottom" BorderBrush="Black" Click="GameOverButton_Click">
                        </Button>
                    </StackPanel>
                </Grid>

                <!-- ГЛАВНОЕ МЕНЮ -->
                <Grid x:Name="MainMenuContainer">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="5*"/>
                        <RowDefinition Height="55*"/>
                        <RowDefinition Height="210*"/>
                        <RowDefinition Height="22*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="90*"/>
                        <ColumnDefinition Width="333*"/>
                        <ColumnDefinition Width="330*"/>
                        <ColumnDefinition Width="47*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Заголовок Глоссолалия -->
                    <TextBlock x:Name="GlossolaliaLabel" Grid.Column="1" HorizontalAlignment="Left" TextWrapping="Wrap" 
                               Text="Глоссолалия" VerticalAlignment="Top" FontSize="72" 
                               Height="100" Width="300" Grid.Row="1"/>
                    <!-- Кнопки главного меню -->
                    <StackPanel Grid.Column="1" Grid.Row="2" Width="270" HorizontalAlignment="Left" Margin="0,10,0,0">
                        <Button x:Name="PlayButton" Content="Играть" Height="75" FontSize="48" 
                                Background="{x:Null}" BorderBrush="{x:Null}" 
                                VerticalAlignment="Top" VerticalContentAlignment="Top" 
                                HorizontalContentAlignment="Left" Click="PlayButton_Click"/>

                        <Button x:Name="SettingsButton" Content="Настройки" Height="75" FontSize="48" 
                                Background="{x:Null}" BorderBrush="{x:Null}" 
                                VerticalAlignment="Top" VerticalContentAlignment="Top" 
                                HorizontalContentAlignment="Left" Click="SettingsButton_Click"/>

                        <Button x:Name="RulesButton" Content="Правила" Height="75" FontSize="48" 
                                Background="{x:Null}" BorderBrush="{x:Null}" 
                                VerticalAlignment="Top" VerticalContentAlignment="Top" 
                                HorizontalContentAlignment="Left" Click="RulesButton_Click"/>

                        <Button x:Name="ExitButton" Content="Выход" Height="75" FontSize="48" 
                                Background="{x:Null}" BorderBrush="{x:Null}" 
                                VerticalAlignment="Top" VerticalContentAlignment="Top" 
                                HorizontalContentAlignment="Left" Click="ExitButton_Click"/>
                    </StackPanel>

                    <!-- Настройки -->
                    <ScrollViewer x:Name="SettingsScrollViewer" Grid.Column="2" Grid.RowSpan="2" 
                          VerticalScrollBarVisibility="Auto" Grid.Row="1" Visibility="Hidden">
                        <StackPanel>
                            <TextBlock HorizontalAlignment="Center" TextWrapping="Wrap" 
                                       Text="Настройки" VerticalAlignment="Center" FontSize="48" 
                                       Width="200" Height="75" TextAlignment="Center" Margin="0,20,0,0"/>

                            <!-- Разрешение -->
                            <StackPanel Width="300" Height="100" HorizontalAlignment="Center" 
                                        VerticalAlignment="Top">
                                <TextBlock HorizontalAlignment="Left" VerticalAlignment="Top" 
                                           FontSize="40" Width="300" Height="50" TextWrapping="Wrap" 
                                           Text="Разрешение"/>
                                <ComboBox x:Name="ResolutionComboBox" HorizontalAlignment="Left" 
                                          VerticalAlignment="Bottom" Width="300" Height="50" 
                                          IsReadOnly="True" FontSize="40" 
                                          HorizontalContentAlignment="Center" Padding="0,0,0,0"
                                          SelectionChanged="ResolutionComboBox_SelectionChanged"/>
                            </StackPanel>

                            <!-- Режим окна -->
                            <StackPanel Width="300" Height="100" HorizontalAlignment="Center" 
                                        VerticalAlignment="Top">
                                <TextBlock HorizontalAlignment="Left" VerticalAlignment="Top" 
                                           FontSize="40" Width="300" Height="50" TextWrapping="Wrap" 
                                           Text="Режим"/>
                                <ComboBox x:Name="WindowModeComboBox" HorizontalAlignment="Left" 
                                          VerticalAlignment="Bottom" Width="300" Height="50" 
                                          IsReadOnly="True" FontSize="40" 
                                          HorizontalContentAlignment="Center" Padding="0,0,0,0"
                                          SelectionChanged="WindowModeComboBox_SelectionChanged">
                                    <ComboBoxItem Content="Оконный"/>
                                    <ComboBoxItem Content="Полноэкранный"/>
                                </ComboBox>
                            </StackPanel>

                            <!-- Скорость слов -->
                            <StackPanel Width="300" Height="120" HorizontalAlignment="Center" 
                                        VerticalAlignment="Top" Margin="0,10,0,0">
                                <TextBlock HorizontalAlignment="Left" VerticalAlignment="Top" 
                                           FontSize="40" Width="300" Height="50" TextWrapping="Wrap" 
                                           Text="Скорость слов"/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Slider x:Name="SpeedSlider" Grid.Column="1" 
                                            Minimum="1" Maximum="100" Value="10"
                                            VerticalAlignment="Center" Height="40"
                                            ValueChanged="SpeedSlider_ValueChanged"/>
                                    <TextBlock x:Name="SpeedValueText" Grid.Column="2" Text="10.0" 
                                               FontSize="32" VerticalAlignment="Center" 
                                               Margin="10,0,0,0" Width="60"/>
                                </Grid>
                            </StackPanel>
                        </StackPanel>
                    </ScrollViewer>

                    <!-- Правила -->
                    <ScrollViewer x:Name="RulesScrollViewer" Grid.Column="2" Grid.RowSpan="2" 
                                  VerticalScrollBarVisibility="Auto" Margin="0,4,0,0" Grid.Row="1" 
                                  Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock HorizontalAlignment="Center" TextWrapping="Wrap" Text="Правила" 
                                       VerticalAlignment="Center" FontSize="48" Width="200" Height="75" 
                                       TextAlignment="Center" Margin="0,18,0,0"/>
                            <TextBlock TextWrapping="Wrap" Text="На экране будут падать слова, которые необходимо стирать, вводя с клавиатуры, прежде чем они достигнут низа. Счётчик множителя показывает, сколько очков даётся за одну правильно введённую букву, увеличивается на один при корректном вводе и сбрасывается при опечатке. Цветные слова - это бонусы:&#xA;регистр - на время девятикратно увеличивает получаемые очки, но случайные буквы в словах приводятся к верхнему регистру, который нужно соблюдать;&#xA;заморозка - на время останавливает движение и появление слов;&#xA;синоним - на время можно вводить синонимы слов на экране, что сотрёт не только синонимичные слова, но и дополнительные 4 случайных слова&#xA;антоним - на время можно вводить антонимы слов на экране, что сотрёт не только антонимичные слова, но и дополнительные 4 случайных слова&#xA;&#xA;Авторы:&#xA;Студенты НГТУ&#xA;Группы ПМ-23&#xA;Корнев М.&#xA;Гайченко М." 
                                       FontSize="36" Margin="0,10,0,0"/>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </Grid>
        </Viewbox>
    </Grid>
</Window>